Реферальная система
-------
урл verification-phone/ используется для запроса номера телефона, отправляет данные к request-verification/, который генерирует код авторизации,
редиректит на страницу verify/, на которой запрашивается код (его можно получить в ответе от апи или на странице ввода кода верификации)
------
verify/ отправляет код авторизации на enter-code/, где происходит создание или получение нового пользователя, логинит нового или полученного пользователя, 
редиректит на profile/, где отображаются данные профиля, такие как номер телефона, ваше инвайт-код, инвайт код который вы ввели и все пользователи (номера телефонов), которые ввели ваш инвайт код
----------
на этой странице ( profile/) вводится чужой инвайт код и активируется для вашего профиля (назначается в соответствующее поле бд postgres), если пользователь ввел ваш инвайт код,
а вы пытаетесь активировать его инвайт код, то сделать этого нельзя. 
---------
логика api и шаблоны разделены, редирект происходит с помощью js в шаблонах, тестировать можно из postman (возможно понадобится указать csrf в заголовках или очищать куки)
----------